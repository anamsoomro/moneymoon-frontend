{"ast":null,"code":"var _jsxFileName = \"/Users/flatironstudent/Desktop/moneys/frontend/src/components/UsersBanks.js\";\nimport React from \"react\";\nimport { connect } from 'react-redux';\n\nconst UsersBanks = props => {\n  const removeItem = bank => {\n    //  to remove from plaid, you need client_id, secrent and access_token\n    // to remove from my db i need item_id\n    // fetch(\"http://localhost:3000/plaid_items\", {\n    //   method: \"DELETE\", \n    //   headers: {\n    //     \"Content-Type\": \"application/json\",\n    //     Authorization: `Bearer ${localStorage.token}`\n    //   },\n    //   body: JSON.stringify({\n    //     item_id: bank.account_id\n    //   })\n    // })\n    // .then(resp => resp.json())\n    // .then(resp => {\n    //   // just refresh the page.\n    //   // remove that account from the panel\n    //   // i guess dispatch remove item which would go through delete related accounts and transactions\n    // })\n    // you want to delete your item with plaid first dont want access tokens floating around undocumented in db\n    fetch(\"http://localhost:3000/plaid_items\", {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${localStorage.token}`\n      },\n      body: JSON.stringify({\n        item_id: bank.account_id\n      })\n    }).then(resp => resp.json()).then(resp => {// just refresh the page.\n      // remove that account from the panel\n      // i guess dispatch remove item which would go through delete related accounts and transactions\n    });\n    console.log(bank);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    style: {\n      \"width\": \"60%\",\n      \"margin\": \"0 auto\",\n      \"margin-bottom\": \"20px\",\n      \"margin-top\": \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 37\n    }\n  }, props.user.username, \" \")), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list-group list-group-flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, props.banks.map(bank => /*#__PURE__*/React.createElement(\"li\", {\n    key: bank.id,\n    className: \"list-group-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, bank.name, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge badge-danger\",\n    style: {\n      color: \"white\"\n    },\n    onClick: () => removeItem(bank),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, \"Remove\"))))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    state\n  };\n};\n\nconst mapDispacthToProps = dispatch => {\n  return {\n    dispatch\n  };\n};\n\nexport default connect(mapStateToProps, mapDispacthToProps)(UsersBanks);","map":{"version":3,"sources":["/Users/flatironstudent/Desktop/moneys/frontend/src/components/UsersBanks.js"],"names":["React","connect","UsersBanks","props","removeItem","bank","fetch","method","headers","Authorization","localStorage","token","body","JSON","stringify","item_id","account_id","then","resp","json","console","log","user","username","banks","map","id","name","color","mapStateToProps","state","mapDispacthToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;;AAEA,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAE5B,QAAMC,UAAU,GAAIC,IAAD,IAAU;AAC3B;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEEC,IAAAA,KAAK,CAAC,mCAAD,EAAsC;AAC3CC,MAAAA,MAAM,EAAE,QADmC;AAE3CC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEPC,QAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,KAAM;AAFrC,OAFkC;AAM3CC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,OAAO,EAAEV,IAAI,CAACW;AADK,OAAf;AANqC,KAAtC,CAAL,CAUDC,IAVC,CAUIC,IAAI,IAAIA,IAAI,CAACC,IAAL,EAVZ,EAWDF,IAXC,CAWIC,IAAI,IAAI,CACZ;AACA;AACA;AACD,KAfC;AAiBFE,IAAAA,OAAO,CAACC,GAAR,CAAYhB,IAAZ;AACD,GAzCD;;AA4CA,sBAEE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAsB,IAAA,KAAK,EAAE;AAAC,eAAS,KAAV;AAAiB,gBAAU,QAA3B;AAAqC,uBAAiB,MAAtD;AAA8D,oBAAc;AAA5E,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAA8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKF,KAAK,CAACmB,IAAN,CAAWC,QAAhB,MAA9B,CADF,eAEE;AAAI,IAAA,SAAS,EAAC,6BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGpB,KAAK,CAACqB,KAAN,CAAYC,GAAZ,CAAgBpB,IAAI,iBACnB;AAAI,IAAA,GAAG,EAAEA,IAAI,CAACqB,EAAd;AAAiB,IAAA,SAAS,EAAC,iBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKrB,IAAI,CAACsB,IAAV,eACE;AAAM,IAAA,SAAS,EAAC,oBAAhB;AAAqC,IAAA,KAAK,EAAE;AAACC,MAAAA,KAAK,EAAC;AAAP,KAA5C;AAA6D,IAAA,OAAO,EAAE,MAAMxB,UAAU,CAACC,IAAD,CAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CADF,CADD,CADH,CAFF,CAFF;AAkBD,CAhED;;AAkEA,MAAMwB,eAAe,GAAIC,KAAD,IAAW;AACjC,SAAO;AACLA,IAAAA;AADK,GAAP;AAGD,CAJD;;AAMA,MAAMC,kBAAkB,GAAIC,QAAD,IAAc;AACvC,SAAO;AACLA,IAAAA;AADK,GAAP;AAGD,CAJD;;AAMA,eAAe/B,OAAO,CAAC4B,eAAD,EAAkBE,kBAAlB,CAAP,CAA6C7B,UAA7C,CAAf","sourcesContent":["import React from \"react\"\nimport { connect } from 'react-redux'\n\nconst UsersBanks = (props) => {\n\n  const removeItem = (bank) => {\n    //  to remove from plaid, you need client_id, secrent and access_token\n    // to remove from my db i need item_id\n\n    // fetch(\"http://localhost:3000/plaid_items\", {\n    //   method: \"DELETE\", \n    //   headers: {\n    //     \"Content-Type\": \"application/json\",\n    //     Authorization: `Bearer ${localStorage.token}`\n    //   },\n    //   body: JSON.stringify({\n    //     item_id: bank.account_id\n    //   })\n    // })\n    // .then(resp => resp.json())\n    // .then(resp => {\n    //   // just refresh the page.\n    //   // remove that account from the panel\n    //   // i guess dispatch remove item which would go through delete related accounts and transactions\n    // })\n\n    // you want to delete your item with plaid first dont want access tokens floating around undocumented in db\n\n      fetch(\"http://localhost:3000/plaid_items\", {\n      method: \"DELETE\", \n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${localStorage.token}`\n      },\n      body: JSON.stringify({\n        item_id: bank.account_id\n      })\n    })\n    .then(resp => resp.json())\n    .then(resp => {\n      // just refresh the page.\n      // remove that account from the panel\n      // i guess dispatch remove item which would go through delete related accounts and transactions\n    })\n\n    console.log(bank)\n  }\n\n\n  return (\n\n    <div className=\"card\" style={{\"width\": \"60%\", \"margin\": \"0 auto\", \"margin-bottom\": \"20px\", \"margin-top\": \"20px\"}}>\n      <div className=\"card-header\"> <h4>{props.user.username} </h4></div>\n      <ul className=\"list-group list-group-flush\">\n        {props.banks.map(bank => \n          <li key={bank.id}className=\"list-group-item\">\n            <h5>{bank.name}\n              <span className=\"badge badge-danger\" style={{color:\"white\"}} onClick={() => removeItem(bank)}>\n                Remove\n              </span>\n            </h5>\n          </li>\n        )}\n      </ul>\n    </div>\n  )\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    state\n  }\n}\n\nconst mapDispacthToProps = (dispatch) => {\n  return {\n    dispatch\n  }\n}\n\nexport default connect(mapStateToProps, mapDispacthToProps)(UsersBanks)"]},"metadata":{},"sourceType":"module"}