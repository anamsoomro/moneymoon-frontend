{"ast":null,"code":"var _jsxFileName = \"/Users/flatironstudent/Desktop/plaid-test/front-end/src/components/Link.js\";\nimport React, { Component } from \"react\";\nimport { PlaidLink } from \"react-plaid-link\"; // import axios from \"axios\";\n\nclass Link extends Component {\n  constructor() {\n    super();\n\n    this.showTransaction = transaction => {};\n\n    this.state = {\n      transactions: []\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleOnSuccess(public_token, metadata) {\n    fetch(\"http://localhost:8000/auth/public_token\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        public_token: public_token\n      })\n    }).then(resp => resp.json()).then(accessTokenAndItemId => {\n      // {access_token: \"access-sandbox-bef691d6-406d-4691-8fba-d9cd98de2727\", item_id: \"kn7qgzy89QcKqQvMZdG3cDy93VAMwBtWKlLRy\"}\n      console.log(\"sweet now you got a access token\");\n    });\n  }\n\n  handleOnExit() {// handle the case when your user exits Link\n    // For the sake of this tutorial, we're not going to be doing anything here.\n  }\n\n  handleClick(res) {\n    fetch(\"http://localhost:8000/transactions\").then(resp => resp.json()).then(transactions => {\n      debugger;\n      this.setState({\n        transactions: transactions.transactions.transactions\n      });\n      console.log(\"you should get your transactions now\");\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(PlaidLink, {\n      clientName: \"front-end\",\n      env: \"development\",\n      env: \"sandbox\",\n      product: [\"transactions\"] // product={[\"auth\", \"transactions\"]}\n      ,\n      publicKey: \"38e9fa8478f20a384db53c1176e9b7\",\n      onExit: this.handleOnExit,\n      onSuccess: this.handleOnSuccess,\n      className: \"test\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, \"Open Link and connect your bank!\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }, \"Get Transactions\"), this.state.transactions.map(transaction => this.showTransaction(transaction))));\n  }\n\n}\n\nexport default Link;","map":{"version":3,"sources":["/Users/flatironstudent/Desktop/plaid-test/front-end/src/components/Link.js"],"names":["React","Component","PlaidLink","Link","constructor","showTransaction","transaction","state","transactions","handleClick","bind","handleOnSuccess","public_token","metadata","fetch","method","headers","body","JSON","stringify","then","resp","json","accessTokenAndItemId","console","log","handleOnExit","res","setState","render","map"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,SAAT,QAAyB,kBAAzB,C,CACA;;AAEA,MAAMC,IAAN,SAAmBF,SAAnB,CAA6B;AAC3BG,EAAAA,WAAW,GAAG;AACZ;;AADY,SA6CdC,eA7Cc,GA6CKC,WAAD,IAAiB,CAElC,CA/Ca;;AAGZ,SAAKC,KAAL,GAAa;AACXC,MAAAA,YAAY,EAAE;AADH,KAAb;AAIA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACD;;AAEDC,EAAAA,eAAe,CAACC,YAAD,EAAeC,QAAf,EAAyB;AACtCC,IAAAA,KAAK,CAAC,yCAAD,EAA4C;AAC/CC,MAAAA,MAAM,EAAE,MADuC;AAE/CC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFsC;AAK/CC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBP,QAAAA,YAAY,EAAEA;AADK,OAAf;AALyC,KAA5C,CAAL,CASCQ,IATD,CASMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EATd,EAUCF,IAVD,CAUMG,oBAAoB,IAAI;AAC5B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ;AACD,KAbD;AAcD;;AAEDC,EAAAA,YAAY,GAAG,CACb;AACA;AACD;;AAEDjB,EAAAA,WAAW,CAACkB,GAAD,EAAM;AACfb,IAAAA,KAAK,CAAC,oCAAD,CAAL,CACCM,IADD,CACMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADd,EAECF,IAFD,CAEMZ,YAAY,IAAI;AACpB;AAEA,WAAKoB,QAAL,CAAc;AACZpB,QAAAA,YAAY,EAAEA,YAAY,CAACA,YAAb,CAA0BA;AAD5B,OAAd;AAGAgB,MAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACD,KATD;AAUD;;AAMDI,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEE,oBAAC,SAAD;AACE,MAAA,UAAU,EAAC,WADb;AAEE,MAAA,GAAG,EAAC,aAFN;AAGE,MAAA,GAAG,EAAC,SAHN;AAIE,MAAA,OAAO,EAAE,CAAC,cAAD,CAJX,CAKE;AALF;AAOE,MAAA,SAAS,EAAC,gCAPZ;AAQE,MAAA,MAAM,EAAE,KAAKH,YARf;AASE,MAAA,SAAS,EAAE,KAAKf,eATlB;AAUE,MAAA,SAAS,EAAC,MAVZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAFF,eAgBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAQ,MAAA,OAAO,EAAE,KAAKF,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAEG,KAAKF,KAAL,CAAWC,YAAX,CAAwBsB,GAAxB,CAA6BxB,WAAW,IAAI,KAAKD,eAAL,CAAqBC,WAArB,CAA5C,CAFH,CAhBF,CADF;AAuBD;;AA1E0B;;AA6E7B,eAAeH,IAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { PlaidLink }from \"react-plaid-link\";\n// import axios from \"axios\";\n\nclass Link extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      transactions: []\n    };\n\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleOnSuccess(public_token, metadata) {\n    fetch(\"http://localhost:8000/auth/public_token\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        public_token: public_token\n      })\n    })\n    .then(resp => resp.json())\n    .then(accessTokenAndItemId => {\n      // {access_token: \"access-sandbox-bef691d6-406d-4691-8fba-d9cd98de2727\", item_id: \"kn7qgzy89QcKqQvMZdG3cDy93VAMwBtWKlLRy\"}\n      console.log(\"sweet now you got a access token\")\n    })\n  }\n\n  handleOnExit() {\n    // handle the case when your user exits Link\n    // For the sake of this tutorial, we're not going to be doing anything here.\n  }\n\n  handleClick(res) {\n    fetch(\"http://localhost:8000/transactions\")\n    .then(resp => resp.json())\n    .then(transactions => {\n      debugger\n\n      this.setState({\n        transactions: transactions.transactions.transactions\n      })\n      console.log(\"you should get your transactions now\")\n    })\n  }\n\n  showTransaction = (transaction) => {\n\n  }\n\n  render() {\n    return (\n      <div>\n        {/* PlaidLink is throwing me the export error */}\n        <PlaidLink\n          clientName=\"front-end\"\n          env=\"development\"\n          env=\"sandbox\"\n          product={[\"transactions\"]}\n          // product={[\"auth\", \"transactions\"]}\n\n          publicKey=\"38e9fa8478f20a384db53c1176e9b7\"\n          onExit={this.handleOnExit}\n          onSuccess={this.handleOnSuccess}\n          className=\"test\"\n        >\n          Open Link and connect your bank!\n        </PlaidLink>\n        <div>\n          <button onClick={this.handleClick}>Get Transactions</button>\n          {this.state.transactions.map (transaction => this.showTransaction(transaction))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Link;"]},"metadata":{},"sourceType":"module"}