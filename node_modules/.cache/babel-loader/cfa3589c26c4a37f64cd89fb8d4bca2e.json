{"ast":null,"code":"var _jsxFileName = \"/Users/flatironstudent/Desktop/react-plaid-setup/front-end/src/components/Link.js\";\nimport React, { Component } from \"react\";\nimport { PlaidLink } from \"react-plaid-link\";\nimport axios from \"axios\";\n\nclass Link extends Component {\n  constructor() {\n    super();\n    this.state = {\n      transactions: []\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleOnSuccess(public_token, metadata) {\n    // send token to client server\n    // idk why this wasnt working\n    // axios.post(\"/auth/public_token\", {\n    //   public_token: public_token\n    // });\n    fetch(\"http://localhost:8000/auth/public_token\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        public_token: public_token\n      })\n    }).then(resp => resp.json()).then(idk => {\n      console.log(\"sweet now you got a access token\");\n    });\n  }\n\n  handleOnExit() {// handle the case when your user exits Link\n    // For the sake of this tutorial, we're not going to be doing anything here.\n  }\n\n  handleClick(res) {\n    axios.get(\"/transactions\").then(res => {\n      this.setState({\n        transactions: res.data\n      });\n    });\n    fetch(\"http://localhost:8000/transactions\").then(resp => resp.json()).then(idk => {\n      console.log(\"you should get your transactions now\");\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(PlaidLink, {\n      clientName: \"front-end\",\n      env: \"sandbox\",\n      product: [\"auth\", \"transactions\"],\n      publicKey: \"38e9fa8478f20a384db53c1176e9b7\",\n      onExit: this.handleOnExit,\n      onSuccess: this.handleOnSuccess,\n      className: \"test\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, \"Open Link and connect your bank!\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, \"Get Transactions\")));\n  }\n\n}\n\nexport default Link;","map":{"version":3,"sources":["/Users/flatironstudent/Desktop/react-plaid-setup/front-end/src/components/Link.js"],"names":["React","Component","PlaidLink","axios","Link","constructor","state","transactions","handleClick","bind","handleOnSuccess","public_token","metadata","fetch","method","headers","body","JSON","stringify","then","resp","json","idk","console","log","handleOnExit","res","get","setState","data","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,SAAT,QAAyB,kBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,IAAN,SAAmBH,SAAnB,CAA6B;AAC3BI,EAAAA,WAAW,GAAG;AACZ;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,YAAY,EAAE;AADH,KAAb;AAIA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACD;;AAEDC,EAAAA,eAAe,CAACC,YAAD,EAAeC,QAAf,EAAyB;AACtC;AACA;AACA;AACA;AACA;AAEAC,IAAAA,KAAK,CAAC,yCAAD,EAA4C;AAC/CC,MAAAA,MAAM,EAAE,MADuC;AAE/CC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFsC;AAK/CC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBP,QAAAA,YAAY,EAAEA;AADK,OAAf;AALyC,KAA5C,CAAL,CASCQ,IATD,CASMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EATd,EAUCF,IAVD,CAUMG,GAAG,IAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ;AACD,KAZD;AAaD;;AAEDC,EAAAA,YAAY,GAAG,CACb;AACA;AACD;;AAEDjB,EAAAA,WAAW,CAACkB,GAAD,EAAM;AACfvB,IAAAA,KAAK,CAACwB,GAAN,CAAU,eAAV,EAA2BR,IAA3B,CAAgCO,GAAG,IAAI;AACrC,WAAKE,QAAL,CAAc;AAAErB,QAAAA,YAAY,EAAEmB,GAAG,CAACG;AAApB,OAAd;AACD,KAFD;AAIAhB,IAAAA,KAAK,CAAC,oCAAD,CAAL,CACCM,IADD,CACMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADd,EAECF,IAFD,CAEMG,GAAG,IAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACD,KAJD;AAOD;;AAEDM,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEE,oBAAC,SAAD;AACE,MAAA,UAAU,EAAC,WADb;AAEE,MAAA,GAAG,EAAC,SAFN;AAGE,MAAA,OAAO,EAAE,CAAC,MAAD,EAAS,cAAT,CAHX;AAIE,MAAA,SAAS,EAAC,gCAJZ;AAKE,MAAA,MAAM,EAAE,KAAKL,YALf;AAME,MAAA,SAAS,EAAE,KAAKf,eANlB;AAOE,MAAA,SAAS,EAAC,MAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAFF,eAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAQ,MAAA,OAAO,EAAE,KAAKF,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,CAbF,CADF;AAmBD;;AAxE0B;;AA2E7B,eAAeJ,IAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { PlaidLink }from \"react-plaid-link\";\nimport axios from \"axios\";\n\nclass Link extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      transactions: []\n    };\n\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleOnSuccess(public_token, metadata) {\n    // send token to client server\n    // idk why this wasnt working\n    // axios.post(\"/auth/public_token\", {\n    //   public_token: public_token\n    // });\n\n    fetch(\"http://localhost:8000/auth/public_token\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        public_token: public_token\n      })\n    })\n    .then(resp => resp.json())\n    .then(idk => {\n      console.log(\"sweet now you got a access token\")\n    })\n  }\n\n  handleOnExit() {\n    // handle the case when your user exits Link\n    // For the sake of this tutorial, we're not going to be doing anything here.\n  }\n\n  handleClick(res) {\n    axios.get(\"/transactions\").then(res => {\n      this.setState({ transactions: res.data });\n    });\n\n    fetch(\"http://localhost:8000/transactions\")\n    .then(resp => resp.json())\n    .then(idk => {\n      console.log(\"you should get your transactions now\")\n    })\n\n\n  }\n\n  render() {\n    return (\n      <div>\n        {/* PlaidLink is throwing me the export error */}\n        <PlaidLink\n          clientName=\"front-end\"\n          env=\"sandbox\"\n          product={[\"auth\", \"transactions\"]}\n          publicKey=\"38e9fa8478f20a384db53c1176e9b7\"\n          onExit={this.handleOnExit}\n          onSuccess={this.handleOnSuccess}\n          className=\"test\"\n        >\n          Open Link and connect your bank!\n        </PlaidLink>\n        <div>\n          <button onClick={this.handleClick}>Get Transactions</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Link;"]},"metadata":{},"sourceType":"module"}